<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Loading…</title>
    <meta name="robots" content="noindex" />
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; color: #334; }
    </style>
    <script>
      (function () {
        var l = window.location;

        // On a custom domain, the SPA lives at the root.
        var base = '/';

        // Preserve the exact path the user requested (e.g. /about/)
        var originalUrl = l.pathname + l.search + l.hash;

        // Fetch the real app shell once and swap it in
        fetch(base + 'index.html', { cache: 'no-store' })
          .then(function (r) { return r.text(); })
          .then(function (html) {
            document.open();
            document.write(html);
            document.close();
            try { history.replaceState(null, '', originalUrl); } catch (_) {}
          })
          .catch(function () {
            // Fallback to the root if fetching fails
            l.replace(base);
          });
      })();
    </script>
  </head>
  <body>
    Loading…
  </body>
</html>
